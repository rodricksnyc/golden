function fnMoreInformation(e, t) { $.ajax({ type: "POST", url: window.location.protocol + "//" + window.location.host + "/Product-Finder/Soybean.aspx/SetSession", data: "{ prodName: '" + e + "'}", contentType: "application/json; charset=utf-8", dataType: "json", async: "true", success: function (o) { return e = e.toLowerCase().replace("brand", ""), "golden harvest" === t.toLocaleLowerCase() && (t = "golden-harvest"), window.location.href = "/soybean/" + e.trim(), !1 }, error: function (e, t) { JSON.parse(e.responseText); return !1 } }) } function fnViewMoreresults(e) { $("#ctl00_mainBody_dvloading").show(), fnGetProducts(e), $("#ctl00_mainBody_dvloading").hide() } function fnGetProducts(e) { var t = window.location.href; if ($("#liCornCrop").hasClass("active")) fnClickCornCrop(); else if ($("#mainBody_txtRmFrom").val().match(/^[0-9]\d*(\.\d+)?$/) && $("#mainBody_txtRmTo").val().match(/^[0-9]\d*(\.\d+)?$/)) if ($("#mainBody_txtRmFrom").val() >= 0 && $("#mainBody_txtRmFrom").val() <= 9.9 && $("#mainBody_txtRmTo").val() >= 0 && $("#mainBody_txtRmTo").val() <= 9.9) { var o = "", n = "", s = "", i = "", a = "", r = ""; if (null != window.sessionStorage.getItem("Filters")) { var d = JSON.parse(window.sessionStorage.getItem("Filters")); null != d.diseases && (n = d.diseases.join(",")), null != d.herbicide_tolerance && (o = d.herbicide_tolerance.join(",")), null != d.nematodes && (s = d.nematodes.join(",")), null != d.plant_characteristics && (a = d.plant_characteristics.join(",")), null != d.plant_height && (i = d.plant_height.join(",")), null != d.goldseries && (r = d.goldseries.join(",")) } $("#mainBody_dvMainBrand").removeClass("brand-nksoy"), $("#mainBody_dvMainBrand").removeClass("brand-multi-soy"), $("#mainBody_dvMainBrand").addClass("brand-gh-soy"), $("#mainBody_mainTitleTag").text("Golden Harvest Soybeans Seed Finder"), $("#mainBody_dvMainImage").show(), $("#mainBody_dvMainImage").attr("src", window.location.protocol + "//" + window.location.host + "/images/gh-logo.jpg"), $("#mainBody_imageAnchor").attr("href", window.location.protocol + "//" + window.location.host + "/corn"); var l = "" != $("#mainBody_txtRmFrom").val() && null != $("#mainBody_txtRmFrom").val() ? $("#mainBody_txtRmFrom").val() : "2.5", c = "" != $("#mainBody_txtRmTo").val() && null != $("#mainBody_txtRmTo").val() ? $("#mainBody_txtRmTo").val() : "3.5", u = ""; $.ajax({ type: "POST", url: window.location.protocol + "//" + window.location.host + "/Product-Finder/Soybean.aspx/GetProducts", data: "{ soyaBeanCount: '" + e + "', relativeLowerRange: '" + l + "',relativeUpperRange: '" + c + "',herbicideTolerance: '" + o + "',diseaseFilter: '" + n + "',nematodeFilter: '" + s + "',agroPlantCharFilter: '" + a + "',plantHeightFilter: '" + i + "',brands: 'Golden Harvest',browserUrl: '" + t + "',goldseries: '" + r + "'}", contentType: "application/json; charset=utf-8", dataType: "json", async: "true", beforeSend: function () { $("#mainBody_dvloading").show() }, success: function (e) { $("#mainBody_dvloading").hide(); var t = e.d; if (t.trim().length > 20) { u = t.split("@"), $("#mainBody_dvrecordcount").html(u[1]), $("#mainBody_divCount").html(u[1]), $("#mainBody_divsoybeanproductfinder").html(u[0]), equalHeight($(".info-container")), $("#mainBody_divViewMoreResult").html(""), $("#mainBody_divViewMoreResult").html(u[3]), $("#mainBody_divViewMoreResult").show(), $("#mainBody_divMessage").hide(), $("#mainBody_divCount").show(), $("#sf-results div[class^='col-md-'] strong").show(), $(".sf-count").show(); var o = document.referrer; (o.indexOf("custom-seed-guide") > -1 || o.indexOf("seed-guide-preview") > -1) && ($("#sg-selections").show(), null != window.sessionStorage.getItem("selProducts") && Check_sg_add_text(), $("button.sg-add").css("display", "flex")) } else $("#mainBody_divMessage").show(), $("#mainBody_divMessage").html("Sorry, we couldn't find any matches. Please adjust one or more options and search again."), $("#mainBody_divsoybeanproductfinder").html(""), $("#mainBody_divViewMoreResult").hide(), $("#mainBody_dvrecordcount").html(""), $("#mainBody_divCount").hide(), $("#sf-results div[class^='col-md-'] strong").hide(), $(".sf-count").hide(); return !1 }, error: function (e, t) { JSON.parse(e.responseText); return !1 }, complete: function () { $("#mainBody_dvloading").hide() } }) } else $("#mainBody_validationErrorText").show(), $("#mainBody_validationErrorText").html("<strong>Please enter relative maturity values between 0.0 and 9.9</strong>"); else $("#mainBody_validationErrorText").show(), $("#mainBody_validationErrorText").html("<strong>Please enter relative maturity values between 0.0 and 9.9</strong>") } function equalHeight(e) { var t = 0, o = $(window).width(); e.each(function () { $(this).removeAttr("style"), t = Math.max(t, $(this).outerHeight()) }), o > 767 ? e.css({ height: t + "px" }) : e.css({ height: "auto" }) } function populateSelections() { if (null != window.sessionStorage.getItem("selProducts")) { var e = JSON.parse(window.sessionStorage.getItem("selProducts")); $(".sg-selection-container .row").html(""); for (var t = 0, o = e.length; t < o; t++)$(".sg-selection-inner").append("<div class='sg-product' data-product='" + e[t] + "'>" + e[t] + "<span class='remove-product'>X</span></div>"); 0 === e.length ? $("button.sg-preview").attr("disabled", !0) : $("button.sg-preview").attr("disabled", !1), Check_sg_add_text() } } function Check_sg_add_text() { for (var e = JSON.parse(window.sessionStorage.getItem("selProducts")), t = 0, o = e.length; t < o; t++) { var n = "#id_sg_add_" + e[t].replace("Brand", "").trim(); $(n).addClass("selected"), $(n).html("<span>-</span>Remove from Seed Guide") } } function handleButtons() { $(".sg-selection-inner .sg-product").length > 0 ? ($("button.remove-selections").css("display", "flex"), $("button.sg-preview").attr("disabled", !1)) : ($("button.remove-selections").hide(), $("button.sg-preview").attr("disabled", !0)) } function fnClearAllFilter() { $('.filter-section input[type="checkbox"]').prop("checked", !1), $(".filter-section:not(.rm)").removeClass("active"); var e = location.href.split("?")[0]; history.pushState ? window.history.pushState("object or string", "Title", e) : document.location.href = e; window.sessionStorage.setItem("Filters", JSON.stringify([])), fnGetProducts(1) } function isDecimalNumber(e, t) { var o = t.which ? t.which : event.keyCode; return !(o > 31 && (o < 48 || o > 57) && 46 != o) && (e.value >= 0 && e.value <= 9.9 ? ($("#mainBody_validationErrorText").hide(), !0) : ($("#mainBody_validationErrorText").show(), $("#mainBody_validationErrorText").html("<strong>Please enter relative maturity values between 0.0 and 9.9</strong>"), !1)) } $(document).ready(function () { if (window.sessionStorage.getItem("formValues")) { var e = JSON.parse(window.sessionStorage.getItem("formValues")), t = e[0], o = e[1], n = e[2]; e[3], e[4], e[5], e[6], e[7], e[8]; "soybean" === t.toLowerCase() && ("" === o && (o = 2.5), "" === n && (n = 3.5)), $("#txtRmFrom").val(o), $("#txtRmTo").val(n) } if (null != window.sessionStorage.getItem("selProducts")) { var s = JSON.parse(window.sessionStorage.getItem("selProducts")); $(".sg-selection-inner").html(""); for (var i = 0, a = s.length; i < a; i++)$(".sg-selection-inner").append("<div class='sg-product' data-product='" + s[i] + "'>" + s[i] + "<span class='remove-product'>X</span></div>"); 0 === s.length ? $("button.sg-preview").attr("disabled", !0) : $("button.sg-preview").attr("disabled", !1), Check_sg_add_text(), handleButtons() } }), $(function () { var e = document.referrer; function t() { var e = $(".sf-result").length, t = $(".sf-result:visible").length; $("span.sf-shown").text(t), $("span.sf-total").text(e) } (e.indexOf("custom-seed-guide") > -1 || e.indexOf("seed-guide-preview") > -1) && ($("#sg-selections").show(), $("button.sg-add").css("display", "flex")), t(), $(".filter-section .filter-title").click(function () { $(this).parent().toggleClass("active") }), $(".sf-result").each(function () { var e = Math.floor(3 * Math.random()); $(this).css({ "background-position": ["left", "center", "right"][e] + " top" }) }); var o = {}, n = location.href.split("?")[0]; function s(e) { var t, o, n = window.location.search.substring(1).split("&"); for (o = 0; o < n.length; o++)if ((t = n[o].split("="))[0] === e) return void 0 === t[1] || decodeURIComponent(t[1]); return null } $('.filter-section input[type="checkbox"]').on("change", function (e) { var t = $(e.target).attr("name"), i = $('input[name="' + t + '"]:checked').map(function (e) { return $(this).val() }).get(); o[t] = i, window.sessionStorage.setItem("Filters", JSON.stringify(o)); var a = $(this).val(), r = s("filters") || ""; if (r = r ? r.split(",") : [], this.checked) r.push(a); else { var d = r.indexOf(a); r.splice(d, 1) } var l = ""; r.length && (l = "?filters=" + r.join(",")), history.pushState ? window.history.pushState("object or string", "Title", n + l) : document.location.href = n + l, fnGetProducts(1) }); var i = s("filters") || ""; if (i) { o = {}; i.split(",").forEach(function (e) { $('input[value="' + e + '"]').closest(".filter-section").addClass("active"), $('input[value="' + e + '"]').prop("checked", !0); var t = $('input[value="' + e + '"]').closest(".filter-section")[0].id, n = $('input[name="' + t + '"]:checked').map(function (e) { return $(this).val() }).get(); o[t] = n }), window.sessionStorage.setItem("Filters", JSON.stringify(o)), fnGetProducts(1) } function a() { $(".sg-selection-inner .sg-product").length > 0 ? ($("button.remove-selections").css("display", "flex"), $("button.sg-preview").attr("disabled", !1)) : ($("button.remove-selections").hide(), $("button.sg-preview").attr("disabled", !0)) } $("body").on("click", "span.remove-product", function () { $(this).parent().remove(); var e = $(this).parent().attr("data-product"); $('.sg-add[data-product="' + e + '"]').html("<span>+</span>Add to Custom Seed Guide"), $('.sg-add[data-product="' + e + '"]').removeClass("selected"); var t = JSON.parse(window.sessionStorage.getItem("selProducts")); t.splice(t.indexOf(e), 1), window.sessionStorage.setItem("selProducts", JSON.stringify(t)), a() }), $("button.remove-selections").click(function (e) { e.preventDefault(), $(".sg-selection-inner").html(""), $(".sg-add").removeClass("selected"), $(".sg-add").html("<span>+</span>Add to Custom Seed Guide"), productArray = [], $("button.sg-preview").attr("disabled", !0); window.sessionStorage.setItem("selProducts", JSON.stringify([])), a() }), $("a.load-more").click(function (e) { e.preventDefault(), t() }), $(".sg-preview").click(function (e) { e.preventDefault(), window.location.href = "/Seed-Guide/seed-guide-preview.aspx" }); var r = []; $("body").on("click", ".sg-add", function (e) { null !== window.sessionStorage.getItem("selProducts") && (r = JSON.parse(window.sessionStorage.getItem("selProducts"))), e.preventDefault(); var t = $(this).attr("data-product"); $(this).hasClass("selected") ? ($(this).html("<span>+</span>Add to Custom Seed Guide"), $('.sg-selection-inner div[data-product="' + t + '"]').remove(), r = r.filter(function (e) { return e != t }), window.sessionStorage.setItem("selProducts", JSON.stringify(r))) : ($(this).html("<span>-</span>Remove from Seed Guide"), $(".sg-selection-inner").append('<div class="sg-product" data-product="' + t + '">' + t + '<span class="remove-product">X</span></div>'), r.push(t), window.sessionStorage.setItem("selProducts", JSON.stringify(r))), $(this).toggleClass("selected"), a() }), $("a.load-more").click(function (e) { e.preventDefault(), t() }), $(".sg-preview").click(function (e) { e.preventDefault(), window.location.href = "/Seed-Guide/seed-guide-preview.aspx" }), $("#updateRM").click(function (e) { if (null != window.sessionStorage.getItem("formValues")) { var t = JSON.parse(window.sessionStorage.getItem("formValues")); t[1] = $("#mainBody_txtRmFrom").val(), t[2] = $("#mainBody_txtRmTo").val(), window.sessionStorage.setItem("formValues", JSON.stringify(t)) } fnGetProducts(1), e.preventDefault() }) }), populateSelections();