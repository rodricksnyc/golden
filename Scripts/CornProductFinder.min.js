function fnGetProducts(n){var r="",u="",f="",e="",o="",s="",h="",c="",t;window.sessionStorage.getItem("Filters")!=null&&(t=JSON.parse(window.sessionStorage.getItem("Filters")),t.agrisure_traits!=null&&(r=t.agrisure_traits.join(",")),t.insect_control!=null&&(u=t.insect_control.join(",")),t.herbicide_tolerance!=null&&(f=t.herbicide_tolerance.join(",")),t.artesian!=null&&(e=t.artesian.join(",")),t.reduced_refuge!=null&&(o=t.reduced_refuge.join(",")),t.silage!=null&&(s=t.silage.join(",")),t.diseases!=null&&(h=t.diseases.join(",")),t.brand!=null&&(c=t.brand.join(",")));var l=$("#txtRmFrom").val()!=""&&$("#txtRmFrom").val()!=null?$("#txtRmFrom").val():"105",a=$("#txtRmTo").val()!=""&&$("#txtRmTo").val()!=null?$("#txtRmTo").val():"115",i="";$.ajax({type:"POST",url:window.location.protocol+"//"+window.location.host+"/Product-Finder/Corn.aspx/GetProducts",data:"{ cornCount: '"+n+"', relativeLowerRange: '"+l+"',relativeUpperRange: '"+a+"',brands: '"+c+"',agrisureTraits: '"+r+"',insectResistance: '"+u+"',herbicideTolerance: '"+f+"',waterOptimization: '"+e+"',reducedRefuge: '"+o+"',diseaseResistance: '"+h+"',silage: '"+s+"'}",contentType:"application/json; charset=utf-8",dataType:"json","async":"true",beforeSend:function(){$("#mainBody_dvloading").show()},success:function(n){var r=n.d,t,u,f;return r.trim().length>20?(i=r.split("@"),$("#mainBody_dvrecordcount").html(i[1]),$("#mainBody_divCount").html(i[1]),$("#mainBody_divCornProductfinder").html(i[0]),equalHeight($(".info-container")),$("#mainBody_divViewMoreResult").html(""),$("#mainBody_divViewMoreResult").html(i[2]),$("#mainBody_divViewMoreResult").show(),$("#mainBody_divMessage").hide(),$("#mainBody_divCount").show(),$("#sf-results div[class^='col-md-'] strong").show(),$(".sf-count").show(),t=document.referrer,u="custom-seed-guide",(t.indexOf(u)>-1||t.indexOf("seed-guide-preview")>-1)&&($("#sg-selections").show(),f=JSON.parse(window.sessionStorage.getItem("selProducts")),f!=null&&Check_sg_add_text(),$("button.sg-add").css("display","flex"))):($("#mainBody_divMessage").show(),$("#mainBody_divMessage").html("Sorry, we couldn't find any matches. Please adjust one or more options and search again."),$("#mainBody_divCornProductfinder").html(""),$("#mainBody_divViewMoreResult").hide(),$("#mainBody_dvrecordcount").html(""),$("#mainBody_divCount").html(""),$("#mainBody_divCount").hide(),$("#sf-results div[class^='col-md-'] strong").hide(),$(".sf-count").hide()),!1},error:function(){var n=window.location.protocol+"//"+window.location.host+"/Product-Finder/Corn.aspx/GetProducts"},complete:function(){$("#mainBody_dvloading").hide()}})}function fnViewMoreresults(n){fnGetProducts(n)}function fnMoreInformation(n,t){$.ajax({type:"POST",url:window.location.protocol+"//"+window.location.host+"/Product-Finder/Corn.aspx/SetSession",data:"{ prodName: '"+n+"'}",contentType:"application/json; charset=utf-8",dataType:"json","async":"true",success:function(){return t.toLocaleLowerCase()=="golden harvest"&&(t="golden-harvest"),window.location.href="/corn/"+n.trim(),!1},error:function(){}})}function equalHeight(n){var t=0,i=$(window).width();n.each(function(){$(this).removeAttr("style");t=Math.max(t,$(this).outerHeight())});i>767?n.css({height:t+"px"}):n.css({height:"auto"})}function populateSelections(){var n,t,i;if(window.sessionStorage.getItem("selProducts")!=null){for(n=JSON.parse(window.sessionStorage.getItem("selProducts")),$(".sg-selection-container .row").html(""),t=0,i=n.length;t<i;t++)$(".sg-selection-inner").append("<div class='sg-product' data-product='"+n[t]+"'>"+n[t]+"<span class='remove-product'>X<\/span><\/div>");n.length===0?$("button.sg-preview").attr("disabled",!0):$("button.sg-preview").attr("disabled",!1);Check_sg_add_text()}}function Check_sg_add_text(){for(var t,i=JSON.parse(window.sessionStorage.getItem("selProducts")),n=0,r=i.length;n<r;n++)t="#id_sg_add_"+i[n].replace("Brand","").trim(),$(t).addClass("selected"),$(t).html("<span>-<\/span>Remove from Seed Guide")}function handleButtons(){var n=$(".sg-selection-inner .sg-product").length;n>0?($("button.remove-selections").css("display","flex"),$("button.sg-preview").attr("disabled",!1)):($("button.remove-selections").hide(),$("button.sg-preview").attr("disabled",!0))}$(document).ready(function(){var u,o,t,i,r,h;if($(".sf-count").hide(),$("#sf-results div[class^='col-md-'] strong").hide(),u=document.referrer,o="custom-seed-guide",u.indexOf(o)>-1||u.indexOf("seed-guide-preview")>-1){var n=JSON.parse(window.sessionStorage.getItem("formValues")),s=n[0],f=n[1],e=n[2],c=n[3],l=n[4],a=n[5],v=n[6],y=n[7],p=n[8];s.toLowerCase()==="corn"?(f===""&&(f=105),e===""&&(e=115),$('input[value="GH"]').attr("checked",!0),t={},t.brand=["GH"],window.sessionStorage.setItem("Filters",JSON.stringify(t)),$('input[value="GH"]').closest(".filter-section").addClass("active")):s.toLowerCase()==="enogen corn"&&($('input[value="Enogen"]').attr("checked",!0),t={},t.brand=["Enogen"],window.sessionStorage.setItem("Filters",JSON.stringify(t)),$('input[value="Enogen"]').closest(".filter-section").addClass("active"));$("#txtRmFrom").val(f);$("#txtRmTo").val(e)}else window.location.href.indexOf("filters")===-1&&($('input[value="GH"]').attr("checked",!0),t={},t.brand=["GH"],$('input[value="GH"]').closest(".filter-section").addClass("active"),window.sessionStorage.setItem("Filters",JSON.stringify(t)));if(window.sessionStorage.getItem("selProducts")!=null){for(i=JSON.parse(window.sessionStorage.getItem("selProducts")),$(".sg-selection-inner").html(""),r=0,h=i.length;r<h;r++)$(".sg-selection-inner").append("<div class='sg-product' data-product='"+i[r]+"'>"+i[r]+"<span class='remove-product'>X<\/span><\/div>");i.length===0?$("button.sg-preview").attr("disabled",!0):$("button.sg-preview").attr("disabled",!1);Check_sg_add_text();handleButtons()}fnGetProducts(1)});$(function(){function i(){var n=$(".sf-result").length,t=$(".sf-result:visible").length;$("span.sf-shown").text(t);$("span.sf-total").text(n)}function o(n){for(var u=window.location.search.substring(1),r=u.split("&"),t,i=0;i<r.length;i++)if(t=r[i].split("="),t[0]===n)return t[1]===undefined?!0:decodeURIComponent(t[1]);return null}function f(){var n=$(".sg-selection-inner .sg-product").length;n>0?($("button.remove-selections").css("display","flex"),$("button.sg-preview").attr("disabled",!1)):($("button.remove-selections").hide(),$("button.sg-preview").attr("disabled",!0))}var e=document.referrer,r,u,n,s,t;(e.indexOf("custom-seed-guide")>-1||e.indexOf("seed-guide-preview")>-1)&&($("#sg-selections").show(),$("button.sg-add").css("display","flex"));i();$(".filter-section .filter-title").click(function(){$(this).parent().toggleClass("active")});$(".sf-result").each(function(){var n=Math.floor(Math.random()*3);$(this).css({"background-position":["left","center","right"][n]+" top"})});n={};r=location.href.split("?")[0];$('.filter-section input[type="checkbox"]').on("change",function(t){var h=$(t.target),e=h.attr("name"),c=$('input[name="'+e+'"]:checked').map(function(){return $(this).val()}).get(),f,i,s,u;n[e]=c;window.sessionStorage.setItem("Filters",JSON.stringify(n));f=$(this).val();i=o("filters")||"";i=i?i.split(","):[];this.checked?i.push(f):(s=i.indexOf(f),i.splice(s,1));u="";i.length&&(u="?filters="+i.join(","));history.pushState?window.history.pushState("object or string","Title",r+u):document.location.href=r+u;(n.brand==null||n.brand==[])&&$('input[value="GH"]').attr("checked",!0);fnGetProducts(1)});u=o("filters")||"";u&&(n={},s=u.split(","),s.forEach(function(t){$('input[value="'+t+'"]').closest(".filter-section").addClass("active");$('input[value="'+t+'"]').prop("checked",!0);var i=$('input[value="'+t+'"]').closest(".filter-section")[0].id,r=$('input[name="'+i+'"]:checked').map(function(){return $(this).val()}).get();n[i]=r}),window.sessionStorage.setItem("Filters",JSON.stringify(n)),(n.brand==null||n.brand==[])&&$('input[value="GH"]').attr("checked",!0),fnGetProducts(1));$("a.clear-filters").click(function(n){var t,i;n.preventDefault();$('.filter-section input[type="checkbox"]').prop("checked",!1);$(".filter-section:not(.rm)").removeClass("active");t=location.href.split("?")[0];history.pushState?window.history.pushState("object or string","Title",t):document.location.href=t;i=[];window.sessionStorage.setItem("Filters",JSON.stringify(i));document.getElementsByName("brand").checked=!1;document.getElementById("GHbrand").checked=!0;fnGetProducts(1)});$("body").on("click","span.remove-product",function(){var n,t;$(this).parent().remove();n=$(this).parent().attr("data-product");$('.sg-add[data-product="'+n+'"]').html("<span>+<\/span>Add to Custom Seed Guide");$('.sg-add[data-product="'+n+'"]').removeClass("selected");t=JSON.parse(window.sessionStorage.getItem("selProducts"));t.splice(t.indexOf(n),1);window.sessionStorage.setItem("selProducts",JSON.stringify(t));f()});$("button.remove-selections").click(function(n){n.preventDefault();$(".sg-selection-inner").html("");$(".sg-add").removeClass("selected");$(".sg-add").html("<span>+<\/span>Add to Custom Seed Guide");productArray=[];$("button.sg-preview").attr("disabled",!0);window.sessionStorage.setItem("selProducts",JSON.stringify([]));f()});$("a.load-more").click(function(n){n.preventDefault();i()});$(".sg-preview").click(function(n){n.preventDefault();window.location.href="/Seed-Guide/seed-guide-preview.aspx"});$("a.clear-filters").click(function(n){n.preventDefault();$(".filter-section").not(".rm").removeClass("active");$(".filter-section input").attr("checked",!1)});t=[];$("body").on("click",".sg-add",function(n){window.sessionStorage.getItem("selProducts")!==null&&(t=JSON.parse(window.sessionStorage.getItem("selProducts")));n.preventDefault();var i=$(this).attr("data-product");$(this).hasClass("selected")?($(this).html("<span>+<\/span>Add to Custom Seed Guide"),$('.sg-selection-inner div[data-product="'+i+'"]').remove(),t=t.filter(function(n){return n!=i}),window.sessionStorage.setItem("selProducts",JSON.stringify(t))):($(this).html("<span>-<\/span>Remove from Seed Guide"),$(".sg-selection-inner").append('<div class="sg-product" data-product="'+i+'">'+i+'<span class="remove-product">X<\/span><\/div>'),t.push(i),window.sessionStorage.setItem("selProducts",JSON.stringify(t)));$(this).toggleClass("selected");f()});$("a.load-more").click(function(n){n.preventDefault();i()});$(".sg-preview").click(function(n){n.preventDefault();window.location.href="/Seed-Guide/seed-guide-preview.aspx"});$("#updateRM").click(function(n){if(window.sessionStorage.getItem("formValues")!=null){var t=JSON.parse(window.sessionStorage.getItem("formValues"));t[1]=$("#mainBody_txtRmFrom").val();t[2]=$("#mainBody_txtRmTo").val();window.sessionStorage.setItem("formValues",JSON.stringify(t))}fnGetProducts(1);n.preventDefault()})});populateSelections();